<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mac Business Advisor - Selector para PYMES</title>
    
    <!-- Tailwind CSS (CDN para no requerir instalación) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Configuración personalizada de Tailwind para animaciones -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in-up': 'fadeInUp 0.5s ease-out',
                        'spin-slow': 'spin 3s linear infinite',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Estilos base */
        body { font-family: system-ui, -apple-system, sans-serif; }
        .fade-enter { animation: fadeInUp 0.4s ease-out forwards; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 min-h-screen flex flex-col">

    <!-- Header Fijo -->
    <header class="w-full py-6 px-4 md:px-8 flex items-center justify-between bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 bg-black rounded-lg flex items-center justify-center text-white font-bold">
                <i data-lucide="building-2" class="w-4 h-4"></i>
            </div>
            <span class="font-semibold text-lg tracking-tight text-gray-900">MacBusiness<span class="text-gray-400">Advisor</span></span>
        </div>
        <div class="text-xs md:text-sm font-medium text-gray-500 bg-gray-100 px-3 py-1 rounded-full">
            Para PYMES
        </div>
    </header>

    <!-- Contenedor Principal (Aquí se inyectará el contenido dinámicamente) -->
    <main id="app" class="flex-1 flex flex-col"></main>

    <!-- LÓGICA DE LA APLICACIÓN -->
    <script>
        // --- DATOS ---
        const QUESTIONS = [
            {
                id: 1,
                title: "¿Cuál es tu prioridad de movilidad?",
                description: "Para determinar si necesitas un portátil o un equipo de escritorio.",
                options: [
                    { id: 'laptop', label: 'Movilidad Total', sub: 'Trabajo desde casa, oficina y visitas.', icon: 'laptop' },
                    { id: 'desktop', label: 'Estación Fija', sub: 'El equipo estará siempre en la oficina.', icon: 'monitor' }
                ]
            },
            {
                id: 2,
                title: "¿Qué tipo de trabajo realizará el equipo?",
                description: "Esto nos ayuda a calcular la potencia necesaria.",
                options: [
                    { id: 'admin', label: 'Administrativo y Ventas', sub: 'Correo, Excel, Web, CRM.', icon: 'briefcase' },
                    { id: 'creative', label: 'Creativo y Marketing', sub: 'Diseño ligero, Redes Sociales.', icon: 'palette' },
                    { id: 'pro', label: 'Producción Pesada', sub: 'Video 4K, Desarrollo, 3D.', icon: 'code-2' }
                ]
            },
            {
                id: 3,
                title: "¿Cuál es tu presupuesto aproximado?",
                description: "Buscamos la mejor relación calidad-precio.",
                options: [
                    { id: 'budget', label: 'Economía ante todo', sub: 'Opción más accesible y funcional.', icon: 'dollar-sign', iconClass: '' },
                    { id: 'value', label: 'Balanceado', sub: 'Inversión moderada para longevidad.', icon: 'dollar-sign', iconClass: 'text-green-600' },
                    { id: 'performance', label: 'Máximo rendimiento', sub: 'El presupuesto es secundario.', icon: 'dollar-sign', iconClass: 'text-purple-600' }
                ]
            }
        ];

        const PRODUCTS = {
            'macbook-air': {
                name: 'MacBook Air (M3)',
                tagline: 'Potencia ligera para el día a día.',
                description: 'Perfecto para tareas administrativas, ventas y gestión. Batería para todo el día y ultra portátil.',
                specs: ['Chip M3', 'Hasta 18h de batería', 'Pantalla Liquid Retina', 'Silencioso (Sin ventilador)'],
                color: 'bg-blue-50'
            },
            'macbook-pro-14': {
                name: 'MacBook Pro 14"',
                tagline: 'El estándar para creadores en movimiento.',
                description: 'Ideal para diseño gráfico, edición de fotos y multitarea intensiva sin sacrificar movilidad.',
                specs: ['Chip M3 Pro / Max', 'Pantalla XDR ProMotion 120Hz', 'Puertos HDMI y SD', 'Ventilación activa'],
                color: 'bg-gray-100'
            },
            'macbook-pro-16': {
                name: 'MacBook Pro 16"',
                tagline: 'Una estación de trabajo portátil.',
                description: 'Para desarrolladores, editores de video y renderizado 3D que necesitan la pantalla más grande.',
                specs: ['Chip M3 Max', 'Pantalla masiva de 16"', 'Máxima disipación térmica', 'Batería de larga duración'],
                color: 'bg-gray-900 text-white'
            },
            'imac': {
                name: 'iMac 24"',
                tagline: 'Todo en uno. Todo color.',
                description: 'La mejor opción para recepciones, oficinas de diseño y espacios cara al público. Elegante y potente.',
                specs: ['Chip M3', 'Pantalla 4.5K Retina', 'Cámara 1080p integrada', 'Diseño ultra delgado'],
                color: 'bg-teal-50'
            },
            'mac-mini': {
                name: 'Mac mini',
                tagline: 'Más músculo. Más cerebro.',
                description: 'La opción más económica y versátil. Usa tus propios monitores y periféricos.',
                specs: ['Chip M2 o M2 Pro', 'Tamaño compacto', 'Gran conectividad', 'Excelente precio/rendimiento'],
                color: 'bg-gray-50'
            },
            'mac-studio': {
                name: 'Mac Studio',
                tagline: 'Una potencia descomunal.',
                description: 'Para estudios creativos profesionales que requieren máximo rendimiento sostenido.',
                specs: ['Chip M2 Max / Ultra', 'Puertos frontales y traseros', 'Soporta 5 monitores', 'Silencioso'],
                color: 'bg-zinc-200'
            }
        };

        // --- ESTADO ---
        let state = {
            step: 0, // 0=Intro, 1-3=Preguntas, 4=Carga, 5=Result
            answers: {},
            recommendation: null
        };

        // --- LÓGICA DE NEGOCIO ---
        function getRecommendation(answers) {
            const { q1, q2, q3 } = answers;
            
            if (q1 === 'laptop') {
                if (q2 === 'pro') return PRODUCTS['macbook-pro-16'];
                if (q2 === 'creative') return PRODUCTS['macbook-pro-14'];
                if (q2 === 'admin' && q3 === 'performance') return PRODUCTS['macbook-pro-14'];
                return PRODUCTS['macbook-air'];
            } else {
                if (q2 === 'pro') return PRODUCTS['mac-studio'];
                if (q2 === 'creative' && q3 === 'budget') return PRODUCTS['mac-mini'];
                if (q2 === 'creative') return PRODUCTS['imac'];
                if (q2 === 'admin' && q3 === 'budget') return PRODUCTS['mac-mini'];
                return PRODUCTS['imac'];
            }
        }

        // --- RENDERIZADO ---
        const app = document.getElementById('app');

        function render() {
            app.innerHTML = ''; // Limpiar
            
            // Paso 0: Intro
            if (state.step === 0) {
                app.innerHTML = `
                    <div class="flex-1 flex flex-col items-center justify-center p-6 text-center fade-enter">
                        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-50 text-blue-700 font-medium text-sm mb-6">
                            <span class="relative flex h-2 w-2">
                                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"></span>
                                <span class="relative inline-flex rounded-full h-2 w-2 bg-blue-500"></span>
                            </span>
                            Asistente de compras inteligente
                        </div>
                        <h1 class="text-4xl md:text-6xl font-bold tracking-tight mb-6 bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent">
                            Encuentra el equipo ideal <br/> para tu negocio.
                        </h1>
                        <p class="text-xl text-gray-500 max-w-2xl mb-10 leading-relaxed">
                            Responde 3 preguntas simples y te recomendaremos el Mac perfecto para potenciar tu productividad y la de tu equipo.
                        </p>
                        <button onclick="startQuiz()" class="group relative inline-flex items-center gap-3 px-8 py-4 bg-black text-white rounded-full text-lg font-medium transition-transform active:scale-95 hover:bg-gray-800 shadow-xl hover:shadow-2xl">
                            Comenzar ahora
                            <i data-lucide="arrow-right" class="group-hover:translate-x-1 transition-transform"></i>
                        </button>
                    </div>
                `;
            }

            // Pasos 1-3: Preguntas
            else if (state.step >= 1 && state.step <= 3) {
                const q = QUESTIONS[state.step - 1];
                const progress = ((state.step) / 3) * 100;
                
                app.innerHTML = `
                    <div class="w-full h-1.5 bg-gray-200">
                        <div class="h-full bg-blue-600 transition-all duration-500 ease-out" style="width: ${progress}%"></div>
                    </div>
                    <div class="flex-1 max-w-3xl mx-auto w-full px-6 py-12 fade-enter">
                        <div class="mb-8">
                            <span class="text-blue-600 font-semibold text-sm tracking-wider uppercase mb-2 block">Paso ${state.step} de 3</span>
                            <h2 class="text-3xl font-bold text-gray-900 mb-2">${q.title}</h2>
                            <p class="text-gray-500 text-lg">${q.description}</p>
                        </div>
                        <div class="grid grid-cols-1 gap-4">
                            ${q.options.map(opt => `
                                <button onclick="handleAnswer('${opt.id}')" class="group flex items-center p-6 bg-white border-2 border-transparent rounded-2xl shadow-sm hover:border-blue-500 hover:shadow-md transition-all duration-200 text-left w-full">
                                    <div class="flex-shrink-0 w-16 h-16 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-colors duration-200">
                                        <i data-lucide="${opt.icon}" class="${opt.iconClass || ''} w-8 h-8"></i>
                                    </div>
                                    <div class="ml-6 flex-1">
                                        <h3 class="text-xl font-semibold text-gray-900 mb-1">${opt.label}</h3>
                                        <p class="text-gray-500 group-hover:text-gray-700">${opt.sub}</p>
                                    </div>
                                    <div class="ml-4 opacity-0 group-hover:opacity-100 transition-opacity text-blue-600">
                                        <i data-lucide="chevron-right" class="w-6 h-6"></i>
                                    </div>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            // Paso 4: Carga
            else if (state.step === 4) {
                app.innerHTML = `
                    <div class="flex-1 flex flex-col items-center justify-center fade-enter">
                        <div class="w-16 h-16 border-4 border-blue-100 border-t-blue-600 rounded-full animate-spin mb-6"></div>
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">Analizando tus necesidades...</h2>
                        <p class="text-gray-500">Buscando la mejor configuración para tu empresa.</p>
                    </div>
                `;
                // Simular delay y calcular resultado
                setTimeout(() => {
                    state.recommendation = getRecommendation(state.answers);
                    state.step = 5;
                    render();
                }, 1500);
            }

            // Paso 5: Resultado
            else if (state.step === 5 && state.recommendation) {
                const rec = state.recommendation;
                const iconType = state.answers.q1 === 'laptop' ? 'laptop' : 'monitor';
                
                app.innerHTML = `
                    <div class="max-w-5xl mx-auto px-6 py-12 w-full fade-enter">
                        <div class="text-center mb-12">
                            <div class="inline-block px-4 py-1 bg-green-100 text-green-700 rounded-full text-sm font-bold mb-4">
                                ¡Hemos encontrado tu match!
                            </div>
                            <h2 class="text-4xl font-bold text-gray-900">La mejor elección para tu negocio</h2>
                        </div>

                        <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100 flex flex-col md:flex-row">
                            <!-- Columna Visual -->
                            <div class="md:w-5/12 p-8 md:p-12 flex flex-col items-center justify-center text-center ${rec.color}">
                                <div class="w-64 h-48 bg-white/40 backdrop-blur-sm rounded-xl shadow-inner flex items-center justify-center mb-6">
                                    <i data-lucide="${iconType}" class="w-20 h-20 text-gray-800/50"></i>
                                </div>
                                <h3 class="text-3xl font-bold text-gray-900 mb-2">${rec.name}</h3>
                                <p class="text-lg font-medium opacity-80">${rec.tagline}</p>
                            </div>

                            <!-- Columna Detalles -->
                            <div class="md:w-7/12 p-8 md:p-12 flex flex-col justify-center">
                                <p class="text-gray-600 text-lg mb-8 leading-relaxed">${rec.description}</p>

                                <div class="mb-8">
                                    <h4 class="text-sm font-bold text-gray-900 uppercase tracking-wider mb-4">Especificaciones Clave</h4>
                                    <ul class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                        ${rec.specs.map(spec => `
                                            <li class="flex items-center text-gray-700">
                                                <i data-lucide="check-circle-2" class="w-5 h-5 text-blue-500 mr-2 flex-shrink-0"></i>
                                                ${spec}
                                            </li>
                                        `).join('')}
                                    </ul>
                                </div>

                                <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-100">
                                    <button class="flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-4 rounded-xl font-semibold transition-colors shadow-lg shadow-blue-200">
                                        <i data-lucide="shopping-cart" class="w-5 h-5"></i>
                                        Configurar y Comprar
                                    </button>
                                    <button class="flex-1 flex items-center justify-center gap-2 bg-white border-2 border-gray-200 hover:border-gray-900 text-gray-900 px-6 py-4 rounded-xl font-semibold transition-all">
                                        <i data-lucide="message-square" class="w-5 h-5"></i>
                                        Hablar con Asesor B2B
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="mt-12 text-center">
                            <button onclick="resetQuiz()" class="inline-flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors">
                                <i data-lucide="refresh-ccw" class="w-4 h-4"></i>
                                Empezar de nuevo
                            </button>
                        </div>
                    </div>
                `;
            }

            // Importante: Actualizar iconos después de renderizar el HTML
            lucide.createIcons();
        }

        // --- MANEJADORES DE EVENTOS ---
        function startQuiz() {
            state.step = 1;
            render();
        }

        function handleAnswer(value) {
            state.answers[`q${state.step}`] = value;
            if (state.step < 3) {
                state.step++;
            } else {
                state.step = 4; // Ir a loading
            }
            render();
        }

        function resetQuiz() {
            state = { step: 0, answers: {}, recommendation: null };
            render();
        }

        // --- INICIALIZACIÓN ---
        render();

    </script>
</body>
</html>
